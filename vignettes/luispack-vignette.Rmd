---
title: "luispack-vignette"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{luispack-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(luispack)
```

This vignette provides a description of the functions included in `{luispack}`. 

## Loading functions

### regacc_load_all_csv

The objective of this function is to load several *xml.csv* files stored in [fame2prod.cc.cec.eu.int/fame-estat/econ/REGACC/INSPACE]("//fame2prod.cc.cec.eu.int/fame-estat/econ/REGACC/INSPACE"). They are created after xml files are loaded with FameFeed.

The function needs these packages: `{data.table}`, `{tidyverse}` and `{janitor}`.

The function has several arguments:

* *folder*: the path to the files. Normally it will be [fame2prod.cc.cec.eu.int/fame-estat/econ/REGACC/INSPACE]("//fame2prod.cc.cec.eu.int/fame-estat/econ/REGACC/INSPACE") and is set as the default option that is used if no argument is provided.

* *geo*: the countries to look at. It accepts one ("LU") or several c("LU","MT") arguments. No argument is provided by default.

* *tables*: the table ("T1001") or tables c("T1200","T1300") to look for. All tables are selected by default,

* *time_min*: the function looks at the time stamp of the files. We can filter for files created after a certain date. The default option is ""2020-01-01".

* *time_max*: We can filter for files created before a certain date. The default option is ""2099-12-31".

```{r}
regacc_load_all_csv(folder ="E:/data/REGACC/csv",
                          geo = c("MT", "LU"),
                          time_min = "2021-12-01") %>% 
  select("date","table_identifier","country") %>% 
  unique() %>% 
  knitr::kable()

```



### `anything_to_parquet`

The objective of the function is to convert files in any format that can be handled by `{rio}` into the `parquet` format. The function has three arguments:

- The folder in which to look for the files, for example "H:/MyDocuments".

- The format of the files to look for, for example ".csv" (**with the dot!**).

- If to look at sub-folder. By the default is no, to change it type **recursive = TRUE**.


